

## Dependencies
All python dependencies can be installed through the command:
```
python3 -m pip install -r requirements.txt
```
In addition, Google Chrome is required to run extractTraffic
Chromium was used to run extractbusiness, Google Chrome may work but this is not tested.
extractbusiness also assumes web pages have the size 1740 by 700.


## extractbusiness

To extract business data:
```
python extractbusiness/takebusiness.py -s=[search keyword] -l={maximum number of results} -lat={latitude} -lon={longitude}
```
If `-s` is not specifed takebusiness.py will try to read `input.txt` in the current directory for the keywords.
The other arguments are optional as they will default to:
```
-l=1000000 -lat=0 -lon=0
```
This will output a folder `output` in the current directory containing the csv files.

```
python extractbusiness/cleaningcsv.py [path to takebusiness output] [city] [filename of output csvfile] {keyword}
```
The `keyword` is optional.
This will output a folder `cleanoutput` in the current directory containing the csv files.

Note: cleaningcsv.py needs to be ran on each csv file generated by takebusiness.py.



## extractTraffic

Extracts the average and max traffic around a business

To use this first run the commands in extractbusiness then call:
```
python extractTraffic.py [path to cleanoutput] [output directory] 
```

The resulting csv is located in the output directory as `traffic.csv`
 

Note: This will launch multiple Google Chromes which are not run headless.
    The windows opened may be larger than the display. 


## Analysis scripts

The scripts expect traffic output to be located at `out/traffic.csv` and cleaned business data in `extractbusiness/cleanoutput`

To run call
```
python scatter.py
```
to generate `scatter.png`
and
```
python corrandassumption.py
```
the outputs are placed in `extractbusiness/cleanoutput`
